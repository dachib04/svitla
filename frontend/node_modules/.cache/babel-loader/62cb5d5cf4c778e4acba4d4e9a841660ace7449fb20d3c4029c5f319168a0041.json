{"ast":null,"code":"var _jsxFileName = \"/Users/dachiberidze/Desktop/svitla/frontend/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport api from \"./api/api\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport \"./styles/App.css\";\nimport Topbar from \"./components/Topbar\";\nimport FolderIcon from \"@mui/icons-material/Folder\";\nimport FolderMenu from \"./components/FolderMenu\";\nimport FileMenu from \"./components/FileMenu\";\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\nimport PictureAsPdfIcon from \"@mui/icons-material/PictureAsPdf\";\nimport DescriptionIcon from \"@mui/icons-material/Description\";\nimport ImageIcon from \"@mui/icons-material/Image\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction FileManager({\n  onLogout\n}) {\n  _s();\n  var _currentFolder$subfol3, _currentFolder$files2, _currentFolder$files3;\n  const [rootFolders, setRootFolders] = useState([]);\n  const [currentFolder, setCurrentFolder] = useState(null);\n  const [newFolderName, setNewFolderName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [newRootName, setNewRootName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const fileInputRef = useRef(null);\n  const [viewMode, setViewMode] = useState(\"list\");\n  const [progress, setProgress] = useState(0);\n\n  // Search state\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const buildPath = (folder, allFolders) => {\n    if (!folder) return \"\";\n    const parent = allFolders.find(f => f.id === folder.parent_id);\n    if (parent) {\n      return buildPath(parent, allFolders) + \" / \" + folder.name;\n    }\n    return folder.name;\n  };\n\n  // Fetch folder\n  const [breadcrumbPath, setBreadcrumbPath] = useState([]);\n  const [folderMap, setFolderMap] = useState({});\n  const fetchFolder = async (id, resetPath = false) => {\n    try {\n      setLoading(true);\n      const res = await api.get(`/folders/${id}`);\n      const folder = res.data;\n      setCurrentFolder(folder);\n      setFolderMap(prev => ({\n        ...prev,\n        [folder.id]: folder\n      }));\n      const path = [];\n      let current = folder;\n      while (current) {\n        path.unshift(current);\n        current = current.parent_id ? folderMap[current.parent_id] || null : null;\n      }\n      setBreadcrumbPath(path);\n      setSearchResults([]);\n    } catch (error) {\n      console.error(\"Error fetching folder:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch root folders\n  const fetchRootFolders = async () => {\n    try {\n      const res = await api.get(\"/folders?parent_id=null\");\n      setRootFolders(res.data);\n    } catch (error) {\n      console.error(\"Error fetching root folders:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchRootFolders();\n  }, []);\n\n  // Create subfolder\n  const createSubFolder = async () => {\n    if (!newFolderName || !currentFolder) return;\n    try {\n      const res = await api.post(\"/folders\", {\n        name: newFolderName,\n        parent_id: currentFolder.id\n      });\n      setCurrentFolder({\n        ...currentFolder,\n        subfolders: [...(currentFolder.subfolders || []), res.data]\n      });\n      setNewFolderName(\"\");\n    } catch (error) {\n      console.error(\"Error creating subfolder:\", error);\n    }\n  };\n\n  // Create root folder\n  const createRootFolder = async () => {\n    if (!newRootName) return;\n    try {\n      await api.post(\"/folders\", {\n        name: newRootName,\n        parent_id: null\n      });\n      await fetchRootFolders();\n      setNewRootName(\"\");\n    } catch (error) {\n      console.error(\"Error creating root folder:\", error);\n    }\n  };\n\n  // Upload file\n\n  // Upload file with progress\n  const uploadFile = async () => {\n    if (!file || !currentFolder) return;\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      formData.append(\"folder_id\", currentFolder.id.toString());\n      await api.post(\"/files\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        onUploadProgress: progressEvent => {\n          const percent = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setProgress(percent);\n        }\n      });\n\n      // Refresh folder after upload\n      const res = await api.get(`/folders/${currentFolder.id}`);\n      setCurrentFolder(res.data);\n\n      // Reset\n      setFile(null);\n      setProgress(0);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n    } catch (error) {\n      console.error(\"File upload error:\", error);\n    }\n  };\n\n  // Delete file\n  const deleteFile = async id => {\n    if (!currentFolder) return;\n    try {\n      var _currentFolder$files;\n      await api.delete(`/files/${id}`);\n      setCurrentFolder({\n        ...currentFolder,\n        files: ((_currentFolder$files = currentFolder.files) === null || _currentFolder$files === void 0 ? void 0 : _currentFolder$files.filter(f => f.id !== id)) || []\n      });\n    } catch (error) {\n      console.error(\"Error deleting file:\", error);\n    }\n  };\n\n  // Rename folder\n  const renameFolder = async (id, newName, isRoot = false) => {\n    try {\n      const res = await api.put(`/folders/${id}`, {\n        name: newName\n      });\n      const updatedName = res.data.name;\n      if (isRoot) {\n        setRootFolders(prev => prev.map(f => f.id === id ? {\n          ...f,\n          name: updatedName\n        } : f));\n      } else if (currentFolder) {\n        var _currentFolder$subfol;\n        setCurrentFolder({\n          ...currentFolder,\n          subfolders: (_currentFolder$subfol = currentFolder.subfolders) === null || _currentFolder$subfol === void 0 ? void 0 : _currentFolder$subfol.map(sub => sub.id === id ? {\n            ...sub,\n            name: updatedName\n          } : sub)\n        });\n      }\n    } catch (err) {\n      console.error(\"Rename folder error:\", err);\n    }\n  };\n\n  // Delete folder\n  const deleteFolder = async (id, isRoot = false) => {\n    if (!window.confirm(\"Are you sure you want to delete this folder and all its contents?\")) return;\n    try {\n      await api.delete(`/folders/${id}`);\n      if (isRoot) {\n        setRootFolders(rootFolders.filter(f => f.id !== id));\n        if ((currentFolder === null || currentFolder === void 0 ? void 0 : currentFolder.id) === id) setCurrentFolder(null);\n      } else if (currentFolder) {\n        var _currentFolder$subfol2;\n        setCurrentFolder({\n          ...currentFolder,\n          subfolders: (_currentFolder$subfol2 = currentFolder.subfolders) === null || _currentFolder$subfol2 === void 0 ? void 0 : _currentFolder$subfol2.filter(sub => sub.id !== id)\n        });\n      }\n    } catch (error) {\n      console.error(\"Error deleting folder:\", error);\n    }\n  };\n\n  // Search files\n  const searchFiles = async () => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      const res = await api.get(`/search?q=${encodeURIComponent(searchTerm)}`);\n      setSearchResults(res.data);\n    } catch (error) {\n      console.error(\"Search error:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(Topbar, {\n      searchTerm: searchTerm,\n      setSearchTerm: setSearchTerm,\n      onSearch: searchFiles,\n      onLogout: onLogout,\n      searchResults: searchResults,\n      fetchFolder: fetchFolder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-root\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"New root folder\",\n            value: newRootName,\n            onChange: e => setNewRootName(e.target.value),\n            className: \"text-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: createRootFolder,\n            className: \"primary-btn\",\n            children: \"+ Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-header\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n            style: {\n              fontSize: 20,\n              color: \"#6b7280\",\n              marginRight: \"8px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Folders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), rootFolders.map(f => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => fetchFolder(f.id),\n          className: `folder-entry ${(currentFolder === null || currentFolder === void 0 ? void 0 : currentFolder.id) === f.id ? \"active\" : \"\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [/*#__PURE__*/_jsxDEV(FolderIcon, {\n              style: {\n                fontSize: 18,\n                color: \"#fbbf24\",\n                marginRight: \"6px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), f.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FolderMenu, {\n            folder: f,\n            isRoot: true,\n            renameFolder: renameFolder,\n            deleteFolder: deleteFolder\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)]\n        }, f.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"italic\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this) : currentFolder ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1 text-gray-600 text-sm mb-4\",\n            children: breadcrumbPath.map((f, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `cursor-pointer px-1 rounded \n                        ${idx === breadcrumbPath.length - 1 ? \"font-semibold text-gray-900\" : \"hover:bg-gray-100 hover:text-blue-600\"}`,\n                onClick: () => fetchFolder(f.id, true),\n                children: f.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), idx < breadcrumbPath.length - 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"\\u203A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 23\n              }, this)]\n            }, f.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n                style: {\n                  fontSize: 20,\n                  color: \"#6b7280\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold\",\n                children: \"Subfolders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"New subfolder name\",\n                value: newFolderName,\n                onChange: e => setNewFolderName(e.target.value),\n                className: \"text-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: createSubFolder,\n                className: \"primary-btn\",\n                children: \"+ Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), (_currentFolder$subfol3 = currentFolder.subfolders) !== null && _currentFolder$subfol3 !== void 0 && _currentFolder$subfol3.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-row file-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col name\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col created\",\n                  children: \"Created\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this), currentFolder.subfolders.map(sub => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col name subfolder-name\",\n                  onClick: () => fetchFolder(sub.id),\n                  children: [/*#__PURE__*/_jsxDEV(FolderIcon, {\n                    style: {\n                      fontSize: 20,\n                      color: \"#fbbf24\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 27\n                  }, this), sub.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col created\",\n                  children: new Date(sub.created_at || Date.now()).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col actions\",\n                  children: /*#__PURE__*/_jsxDEV(FolderMenu, {\n                    folder: sub,\n                    renameFolder: renameFolder,\n                    deleteFolder: deleteFolder\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 25\n                }, this)]\n              }, sub.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 italic\",\n              children: \"No subfolders yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n                style: {\n                  fontSize: 20,\n                  color: \"#6b7280\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"font-semibold\",\n                children: \"Files\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                ref: fileInputRef,\n                onChange: e => {\n                  var _e$target$files;\n                  return setFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n                },\n                className: \"text-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: uploadFile,\n                className: \"primary-btn\",\n                children: \"Upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this), progress > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"100%\",\n                marginTop: \"10px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Uploading: \", progress, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n                value: progress,\n                max: \"100\",\n                style: {\n                  width: \"100%\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this), (_currentFolder$files2 = currentFolder.files) !== null && _currentFolder$files2 !== void 0 && _currentFolder$files2.length ? viewMode === \"list\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-row file-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col name\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col created\",\n                  children: \"Created\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this), currentFolder.files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col name cursor-pointer hover:underline flex items-center gap-2\",\n                  onClick: () => window.open(`${api.defaults.baseURL}/files/${file.id}/preview`, \"_blank\"),\n                  children: [file.name.endsWith(\".pdf\") ? /*#__PURE__*/_jsxDEV(PictureAsPdfIcon, {\n                    style: {\n                      color: \"red\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 27\n                  }, this) : file.name.endsWith(\".docx\") || file.name.endsWith(\".doc\") ? /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n                    style: {\n                      color: \"blue\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 27\n                  }, this) : file.name.match(/\\.(jpg|jpeg|png|gif)$/i) ? /*#__PURE__*/_jsxDEV(ImageIcon, {\n                    style: {\n                      color: \"green\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(InsertDriveFileIcon, {\n                    style: {\n                      color: \"gray\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 27\n                  }, this), file.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col created\",\n                  children: new Date(file.created_at || Date.now()).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-col actions\",\n                  children: /*#__PURE__*/_jsxDEV(FileMenu, {\n                    file: file,\n                    deleteFile: deleteFile\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 23\n                }, this)]\n              }, file.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-3 gap-4\",\n              children: (_currentFolder$files3 = currentFolder.files) === null || _currentFolder$files3 === void 0 ? void 0 : _currentFolder$files3.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"file-thumbnail\",\n                  children: \"\\uD83D\\uDCC4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"file-name\",\n                  children: file.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(FileMenu, {\n                  file: file,\n                  deleteFile: deleteFile\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 25\n                }, this)]\n              }, file.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 italic\",\n              children: \"No files uploaded yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select a folder from the sidebar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n}\n\n// App wrapper\n_s(FileManager, \"sP2qFwnvEFnbZ0IxGkJditms2/c=\");\n_c = FileManager;\nexport default function App() {\n  _s2();\n  const [authState, setAuthState] = useState(\"login\");\n  if (authState === \"login\") {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: () => setAuthState(\"app\"),\n      switchToRegister: () => setAuthState(\"register\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 7\n    }, this);\n  }\n  if (authState === \"register\") {\n    return /*#__PURE__*/_jsxDEV(Register, {\n      switchToLogin: () => setAuthState(\"login\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(FileManager, {\n    onLogout: () => {\n      localStorage.removeItem(\"token\");\n      setAuthState(\"login\");\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 510,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"OdlsmsLVsPzrYzjpL9v7DLAjzU8=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"FileManager\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","api","Login","Register","Topbar","FolderIcon","FolderMenu","FileMenu","InsertDriveFileIcon","PictureAsPdfIcon","DescriptionIcon","ImageIcon","ChevronRightIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","FileManager","onLogout","_s","_currentFolder$subfol3","_currentFolder$files2","_currentFolder$files3","rootFolders","setRootFolders","currentFolder","setCurrentFolder","newFolderName","setNewFolderName","file","setFile","newRootName","setNewRootName","loading","setLoading","fileInputRef","viewMode","setViewMode","progress","setProgress","searchTerm","setSearchTerm","searchResults","setSearchResults","buildPath","folder","allFolders","parent","find","f","id","parent_id","name","breadcrumbPath","setBreadcrumbPath","folderMap","setFolderMap","fetchFolder","resetPath","res","get","data","prev","path","current","unshift","error","console","fetchRootFolders","createSubFolder","post","subfolders","createRootFolder","uploadFile","formData","FormData","append","toString","headers","onUploadProgress","progressEvent","percent","Math","round","loaded","total","value","deleteFile","_currentFolder$files","delete","files","filter","renameFolder","newName","isRoot","put","updatedName","map","_currentFolder$subfol","sub","err","deleteFolder","window","confirm","_currentFolder$subfol2","searchFiles","trim","encodeURIComponent","className","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","onClick","style","fontSize","color","marginRight","idx","length","Date","created_at","now","toLocaleDateString","ref","_e$target$files","width","marginTop","max","open","defaults","baseURL","endsWith","match","_c","App","_s2","authState","setAuthState","onLogin","switchToRegister","switchToLogin","localStorage","removeItem","_c2","$RefreshReg$"],"sources":["/Users/dachiberidze/Desktop/svitla/frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport api from \"./api/api\";\nimport { Folder, File as DbFile } from \"./types/types\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport \"./styles/App.css\";\nimport Topbar from \"./components/Topbar\";\nimport FolderIcon from \"@mui/icons-material/Folder\";\nimport FolderMenu from \"./components/FolderMenu\";\nimport FileMenu from \"./components/FileMenu\";\nimport InsertDriveFileIcon from \"@mui/icons-material/InsertDriveFile\";\nimport PictureAsPdfIcon from \"@mui/icons-material/PictureAsPdf\";\nimport DescriptionIcon from \"@mui/icons-material/Description\";  \nimport ImageIcon from \"@mui/icons-material/Image\";     \nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\n\n\nfunction FileManager({ onLogout }: { onLogout: () => void }) {\n  const [rootFolders, setRootFolders] = useState<Folder[]>([]);\n  const [currentFolder, setCurrentFolder] = useState<Folder | null>(null);\n  const [newFolderName, setNewFolderName] = useState(\"\");\n  const [file, setFile] = useState<File | null>(null);\n  const [newRootName, setNewRootName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [viewMode, setViewMode] = useState<\"list\" | \"grid\">(\"list\");\n\n  const [progress, setProgress] = useState(0);\n\n  // Search state\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<DbFile[]>([]);\n\n  const buildPath = (folder: Folder | null, allFolders: Folder[]): string => {\n    if (!folder) return \"\";\n    const parent = allFolders.find(f => f.id === folder.parent_id);\n    if (parent) {\n      return buildPath(parent, allFolders) + \" / \" + folder.name;\n    }\n    return folder.name; \n  };\n\n\n  // Fetch folder\nconst [breadcrumbPath, setBreadcrumbPath] = useState<Folder[]>([]);\nconst [folderMap, setFolderMap] = useState<Record<number, Folder>>({});\n\n\n\nconst fetchFolder = async (id: number, resetPath = false) => {\n  try {\n    setLoading(true);\n    const res = await api.get(`/folders/${id}`);\n    const folder: Folder = res.data;\n\n    setCurrentFolder(folder);\n    \n    setFolderMap((prev) => ({ ...prev, [folder.id]: folder }));\n\n    const path: Folder[] = [];\n    let current: Folder | null = folder;\n\n    while (current) {\n      path.unshift(current);\n      current = current.parent_id ? folderMap[current.parent_id] || null : null;\n    }\n\n    setBreadcrumbPath(path);\n    setSearchResults([]);\n  } catch (error) {\n    console.error(\"Error fetching folder:\", error);\n  } finally {\n    setLoading(false);\n  }\n};\n\n\n  // Fetch root folders\n  const fetchRootFolders = async () => {\n    try {\n      const res = await api.get(\"/folders?parent_id=null\");\n      setRootFolders(res.data);\n    } catch (error) {\n      console.error(\"Error fetching root folders:\", error);\n    }\n  };\n\n  useEffect(() => {\n    fetchRootFolders();\n  }, []);\n\n  // Create subfolder\n  const createSubFolder = async () => {\n    if (!newFolderName || !currentFolder) return;\n    try {\n      const res = await api.post(\"/folders\", {\n        name: newFolderName,\n        parent_id: currentFolder.id,\n      });\n      setCurrentFolder({\n        ...currentFolder,\n        subfolders: [...(currentFolder.subfolders || []), res.data],\n      });\n      setNewFolderName(\"\");\n    } catch (error) {\n      console.error(\"Error creating subfolder:\", error);\n    }\n  };\n\n  // Create root folder\n  const createRootFolder = async () => {\n    if (!newRootName) return;\n    try {\n      await api.post(\"/folders\", { name: newRootName, parent_id: null });\n      await fetchRootFolders();\n      setNewRootName(\"\");\n    } catch (error) {\n      console.error(\"Error creating root folder:\", error);\n    }\n  };\n\n  // Upload file\n\n\n  // Upload file with progress\nconst uploadFile = async () => {\n  if (!file || !currentFolder) return;\n  try {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"folder_id\", currentFolder.id.toString());\n\n    await api.post(\"/files\", formData, {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n      onUploadProgress: (progressEvent: any) => {\n        const percent = Math.round(\n          (progressEvent.loaded * 100) / progressEvent.total\n        );\n        setProgress(percent);\n      },\n    });\n\n    // Refresh folder after upload\n    const res = await api.get(`/folders/${currentFolder.id}`);\n    setCurrentFolder(res.data);\n\n    // Reset\n    setFile(null);\n    setProgress(0);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  } catch (error) {\n    console.error(\"File upload error:\", error);\n  }\n};\n\n  // Delete file\n  const deleteFile = async (id: number) => {\n    if (!currentFolder) return;\n    try {\n      await api.delete(`/files/${id}`);\n      setCurrentFolder({\n        ...currentFolder,\n        files: currentFolder.files?.filter((f) => f.id !== id) || [],\n      });\n    } catch (error) {\n      console.error(\"Error deleting file:\", error);\n    }\n  };\n\n  // Rename folder\n  const renameFolder = async (\n    id: number,\n    newName: string,\n    isRoot: boolean = false\n  ) => {\n    try {\n      const res = await api.put(`/folders/${id}`, { name: newName });\n      const updatedName = res.data.name;\n\n      if (isRoot) {\n        setRootFolders((prev) =>\n          prev.map((f) => (f.id === id ? { ...f, name: updatedName } : f))\n        );\n      } else if (currentFolder) {\n        setCurrentFolder({\n          ...currentFolder,\n          subfolders: currentFolder.subfolders?.map((sub) =>\n            sub.id === id ? { ...sub, name: updatedName } : sub\n          ),\n        });\n      }\n    } catch (err) {\n      console.error(\"Rename folder error:\", err);\n    }\n  };\n\n  // Delete folder\n  const deleteFolder = async (id: number, isRoot: boolean = false) => {\n    if (\n      !window.confirm(\n        \"Are you sure you want to delete this folder and all its contents?\"\n      )\n    )\n      return;\n    try {\n      await api.delete(`/folders/${id}`);\n      if (isRoot) {\n        setRootFolders(rootFolders.filter((f) => f.id !== id));\n        if (currentFolder?.id === id) setCurrentFolder(null);\n      } else if (currentFolder) {\n        setCurrentFolder({\n          ...currentFolder,\n          subfolders: currentFolder.subfolders?.filter(\n            (sub) => sub.id !== id\n          ),\n        });\n      }\n    } catch (error) {\n      console.error(\"Error deleting folder:\", error);\n    }\n  };\n\n  // Search files\n  const searchFiles = async () => {\n    if (!searchTerm.trim()) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      const res = await api.get(`/search?q=${encodeURIComponent(searchTerm)}`);\n      setSearchResults(res.data);\n    } catch (error) {\n      console.error(\"Search error:\", error);\n    }\n  };\n\n\n\n  return (\n    <div className=\"app-container\">\n      {/* Topbar */}\n      <Topbar\n        searchTerm={searchTerm}\n        setSearchTerm={setSearchTerm}\n        onSearch={searchFiles}\n        onLogout={onLogout}\n        searchResults={searchResults}  \n        fetchFolder={fetchFolder}\n      />\n\n      {/* Content area (sidebar + main) */}\n      <div className=\"content\">\n        {/* Sidebar */}\n        <div className=\"sidebar\">\n\n            <div className=\"add-root\">\n            <input\n              type=\"text\"\n              placeholder=\"New root folder\"\n              value={newRootName}\n              onChange={(e) => setNewRootName(e.target.value)}\n              className=\"text-input\"\n            />\n            <button onClick={createRootFolder} className=\"primary-btn\">\n              + Add\n            </button>\n          </div>\n\n          <div className=\"sidebar-header\">\n            <ChevronRightIcon style={{ fontSize: 20, color: \"#6b7280\", marginRight: \"8px\" }} />\n\n            <h2>Folders</h2>\n          </div>\n\n          {rootFolders.map((f) => (\n            <div\n              key={f.id}\n              onClick={() => fetchFolder(f.id)}\n              className={`folder-entry ${\n                currentFolder?.id === f.id ? \"active\" : \"\"\n              }`}\n            >\n              <span>\n                <FolderIcon style={{ fontSize: 18, color: \"#fbbf24\", marginRight: \"6px\" }} />\n                {f.name}\n              </span>\n              <FolderMenu\n                folder={f}\n                isRoot={true}\n                renameFolder={renameFolder}\n                deleteFolder={deleteFolder}\n              />\n            </div>\n          ))}\n        </div>\n\n        {/* Main Area */}\n        <div className=\"main\">\n          {loading ? (\n            <p className=\"italic\">Loading...</p>\n          ) : currentFolder ? (\n            <>\n              <div className=\"flex items-center gap-1 text-gray-600 text-sm mb-4\">\n                {breadcrumbPath.map((f, idx) => (\n                  <React.Fragment key={f.id}>\n                    <span\n                      className={`cursor-pointer px-1 rounded \n                        ${idx === breadcrumbPath.length - 1 \n                          ? \"font-semibold text-gray-900\" \n                          : \"hover:bg-gray-100 hover:text-blue-600\"}`} \n                      onClick={() => fetchFolder(f.id, true)}\n                    >\n                      {f.name}\n                    </span>\n                    {idx < breadcrumbPath.length - 1 && (\n                      <span className=\"text-gray-400\">›</span> \n                    )}\n                  </React.Fragment>\n                ))}\n              </div>\n\n\n\n\n             {/* Subfolders */}\n              <div className=\"mt-6\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <ChevronRightIcon\n                    style={{ fontSize: 20, color: \"#6b7280\" }}\n                  />\n                  <h2 className=\"font-semibold\">Subfolders</h2>\n                </div>\n\n                {/* Add subfolder input */}\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"New subfolder name\"\n                    value={newFolderName}\n                    onChange={(e) => setNewFolderName(e.target.value)}\n                    className=\"text-input\"\n                  />\n                  <button onClick={createSubFolder} className=\"primary-btn\">\n                    + Add\n                  </button>\n                </div>\n\n                {currentFolder.subfolders?.length ? (\n                  <div className=\"file-table\">\n                    {/* Table Header */}\n                    <div className=\"file-row file-header\">\n                      <span className=\"file-col name\">Name</span>\n                      <span className=\"file-col created\">Created</span>\n                      <span className=\"file-col actions\"></span>\n                    </div>\n\n                    {/* Table Rows */}\n                    {currentFolder.subfolders.map((sub) => (\n                      <div key={sub.id} className=\"file-row\">\n                        <span\n                          className=\"file-col name subfolder-name\"\n                          onClick={() => fetchFolder(sub.id)}\n                        >\n                          <FolderIcon style={{ fontSize: 20, color: \"#fbbf24\" }} />\n                          {sub.name}\n                        </span>\n\n                        <span className=\"file-col created\">\n                          {new Date(sub.created_at || Date.now()).toLocaleDateString()}\n                        </span>\n\n                        <span className=\"file-col actions\">\n                          <FolderMenu\n                            folder={sub}\n                            renameFolder={renameFolder}\n                            deleteFolder={deleteFolder}\n                          />\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-gray-500 italic\">No subfolders yet</p>\n                )}\n              </div>\n\n              {/* Files */}\n              <div className=\"mt-6\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <ChevronRightIcon\n                    style={{ fontSize: 20, color: \"#6b7280\" }}\n                  />\n                  <h2 className=\"font-semibold\">Files</h2>\n                </div>\n                <div className=\"flex items-center gap-2 mb-4\">\n                  <input\n                    type=\"file\"\n                    ref={fileInputRef}\n                    onChange={(e) =>\n                      setFile(e.target.files?.[0] || null)\n                    }\n                    className=\"text-input\"\n                  />\n                  <button onClick={uploadFile} className=\"primary-btn\">\n                    Upload\n                  </button>\n                </div>\n                {progress > 0 && (\n                  <div style={{ width: \"100%\", marginTop: \"10px\" }}>\n                    <p>Uploading: {progress}%</p>\n                    <progress value={progress} max=\"100\" style={{ width: \"100%\" }}></progress>\n                  </div>\n                )}\n\n\n              {currentFolder.files?.length ? (\n                viewMode === \"list\" ? (\n                <div className=\"file-table\">\n                  {/* Header */}\n                  <div className=\"file-row file-header\">\n                    <span className=\"file-col name\">Name</span>\n                    <span className=\"file-col created\">Created</span>\n                    <span className=\"file-col actions\"></span>\n                  </div>\n\n                   {/* Files */}\n                  {currentFolder.files.map((file) => (\n                    <div key={file.id} className=\"file-row\">\n                      <span\n                        className=\"file-col name cursor-pointer hover:underline flex items-center gap-2\"\n                        onClick={() =>\n                            window.open(`${api.defaults.baseURL}/files/${file.id}/preview`, \"_blank\")\n                          }\n                        >\n                        {/* Icon + filename */}\n                        {file.name.endsWith(\".pdf\") ? (\n                          <PictureAsPdfIcon style={{ color: \"red\" }} />\n                        ) : file.name.endsWith(\".docx\") || file.name.endsWith(\".doc\") ? (\n                          <DescriptionIcon style={{ color: \"blue\" }} />\n                        ) : file.name.match(/\\.(jpg|jpeg|png|gif)$/i) ? (\n                          <ImageIcon style={{ color: \"green\" }} />\n                        ) : (\n                          <InsertDriveFileIcon style={{ color: \"gray\" }} />\n                        )}\n                        \n                        {file.name}\n                      </span>\n\n                      <span className=\"file-col created\">\n                        {new Date(file.created_at || Date.now()).toLocaleDateString()}\n                      </span>\n\n                      <span className=\"file-col actions\">\n                        <FileMenu file={file} deleteFile={deleteFile} />\n                      </span>\n                    </div>\n                  ))}\n\n                </div>\n                ) : (\n                  <div className=\"grid grid-cols-3 gap-4\">\n                    {currentFolder.files?.map((file) => (\n                      <div key={file.id} className=\"file-card\">\n                        <div className=\"file-thumbnail\">📄</div>\n                        <span className=\"file-name\">{file.name}</span>\n                        <FileMenu file={file} deleteFile={deleteFile} />\n                      </div>\n                    ))}\n                  </div>\n                )\n              ) : (\n                <p className=\"text-gray-500 italic\">No files uploaded yet</p>\n              )}\n              </div>\n            </>\n          ) : (\n            \n            <p>Select a folder from the sidebar</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// App wrapper\nexport default function App() {\n  const [authState, setAuthState] = useState<\n    \"login\" | \"register\" | \"app\"\n  >(\"login\");\n\n  if (authState === \"login\") {\n    return (\n      <Login\n        onLogin={() => setAuthState(\"app\")}\n        switchToRegister={() => setAuthState(\"register\")}\n      />\n    );\n  }\n\n  if (authState === \"register\") {\n    return (\n      <Register switchToLogin={() => setAuthState(\"login\")} />\n    );\n  }\n\n  return (\n    <FileManager\n      onLogout={() => {\n        localStorage.removeItem(\"token\");\n        setAuthState(\"login\");\n      }}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}